<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project Summary</title>
  <link href="/css/style.css" rel="stylesheet">
  <link href="/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/node_modules/font-awesome/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="logo">
      <a class="nav-link" href="/dashboard">
        <i class="fa fa-th"></i>
      </a>
    </div>
    <div class="project-name">Project Name</div>
    <ul class="nav flex-column">
      <li class="nav-item">
        <a class="nav-link active" href="/project_summary">
          <i class="fa fa-globe"></i> Summary
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/project_timeline">
          <i class="fa fa-clock"></i> Timeline
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/project_board">
          <i class="fa fa-columns"></i> Board
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/project_task">
          <i class="fa fa-list"></i> Task list
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/project_member">
          <i class="fa fa-users"></i> Manage members
        </a>
      </li>
    </ul>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Header -->
    <div class="header">
      <div class="title-section">
        <h1>Summary</h1>
        <button class="create-btn" data-bs-toggle="modal" data-bs-target="#createTaskModal">
          <i class="fa fa-plus"></i> Create
        </button>
      </div>
      <div class="icons">
        <i class="fa fa-search"></i>
        <i class="fa fa-bell"></i>
        <i class="fa fa-cog"></i>
        <span class="profile">
          <img src="https://via.placeholder.com/30" alt="Profile">
        </span>
      </div>
    </div>

    <!-- Stats Cards -->
    <div class="row">
      <div class="col-md-4">
        <div class="stats-card">
          <i class="fa fa-check-circle text-success"></i>
          <h5 class="card-title">1 completed</h5>
          <p class="card-text">in the last 7 days</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="stats-card">
          <i class="fa fa-pen text-primary"></i>
          <h5 class="card-title">7 updated</h5>
          <p class="card-text">in the last 7 days</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="stats-card">
          <i class="fa fa-list-check text-primary"></i>
          <h5 class="card-title">7 created</h5>
          <p class="card-text">in the last 7 days</p>
        </div>
      </div>
    </div>

    <!-- Chart and Table Section -->
    <div class="row">
      <!-- Donut Chart -->
      <div class="col-md-6">
        <div class="chart-card">
          <h5>Status overview</h5>
          <p>Get a snapshot of the status of your issues. <a href="#" class="text-primary">View all issues</a></p>
          <div class="chart-container">
            <canvas id="statusChart"></canvas>
            <div class="chart-center">7<br><span>TOTAL ISSUES</span></div>
          </div>
          <div class="chart-legend">
            <div><span class="color-box" style="background-color: #ff6f61;"></span> To Do: 4</div>
            <div><span class="color-box" style="background-color: #f5a623;"></span> In Progress: 2</div>
            <div><span class="color-box" style="background-color: #007bff;"></span> Done: 1</div>
          </div>
        </div>
      </div>

      <!-- Table -->
      <div class="col-md-6">
        <div class="table-card">
          <table class="table">
            <thead>
              <tr>
                <th></th>
                <th>Type</th>
                <th>#</th>
                <th>Key</th>
                <th>Summary</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><input type="checkbox"></td>
                <td><i class="fa fa-check-square text-primary icon"></i> Task</td>
                <td>SCRUM-4</td>
                <td>hgfbubjhj</td>
                <td></td>
              </tr>
              <tr>
                <td><input type="checkbox"></td>
                <td><i class="fa fa-bookmark text-success icon"></i> Story</td>
                <td>SCRUM-8</td>
                <td>dgfhg</td>
                <td></td>
              </tr>
              <tr>
                <td><input type="checkbox"></td>
                <td><i class="fa fa-bookmark text-success icon"></i> Story</td>
                <td>SCRUM-5</td>
                <td>knjmk</td>
                <td></td>
              </tr>
              <tr>
                <td><input type="checkbox"></td>
                <td><i class="fa fa-bookmark text-success icon"></i> Story</td>
                <td>SCRUM-3</td>
                <td>iuhbnm</td>
                <td></td>
              </tr>
              <tr>
                <td><input type="checkbox"></td>
                <td><i class="fa fa-bookmark text-success icon"></i> Story</td>
                <td>SCRUM-2</td>
                <td>guyhjnkj</td>
                <td></td>
              </tr>
              <tr>
                <td><input type="checkbox"></td>
                <td><i class="fa fa-bookmark text-success icon"></i> Story</td>
                <td>SCRUM-1</td>
                <td>kmk</td>
                <td></td>
              </tr>
              <tr>
                <td><input type="checkbox"></td>
                <td><i class="fa fa-bolt text-purple icon"></i> Epic</td>
                <td>SCRUM-7</td>
                <td>yhiuojiokpop6ty...</td>
                <td></td>
              </tr>
              <tr>
                <td><input type="checkbox"></td>
                <td><i class="fa fa-bug text-danger icon"></i> Bug</td>
                <td>SCRUM-6</td>
                <td>gvhhb</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Bar Chart -->
    <div class="row">
      <div class="col-md-12">
        <div class="bar-card">
          <h5>Types of work</h5>
          <p>Get a breakdown of issues by their types. <a href="#" class="text-primary">View all items</a></p>
          <div class="bar-item">
            <span class="label"><i class="fa fa-bookmark text-success icon"></i> Story</span>
            <div class="bar"><div class="fill" style="width: 50%;"></div></div>
            <span class="percentage">50%</span>
          </div>
          <div class="bar-item">
            <span class="label"><i class="fa fa-bolt text-purple icon"></i> Epic</span>
            <div class="bar"><div class="fill" style="width: 17%;"></div></div>
            <span class="percentage">17%</span>
          </div>
          <div class="bar-item">
            <span class="label"><i class="fa fa-check-square text-primary icon"></i> Task</span>
            <div class="bar"><div class="fill" style="width: 17%;"></div></div>
            <span class="percentage">17%</span>
          </div>
          <div class="bar-item">
            <span class="label"><i class="fa fa-bug text-danger icon"></i> Bug</span>
            <div class="bar"><div class="fill" style="width: 16%;"></div></div>
            <span class="percentage">16%</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="createTaskModal" tabindex="-1" aria-labelledby="createTaskModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="createTaskModalLabel">Create</h5>
            <div class="d-flex gap-2">
              <button type="button" class="btn-close"><i class="fa fa-minus"></i></button>
              <button type="button" class="btn-close"><i class="fa fa-arrows-alt"></i></button>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><i class="fa fa-times"></i></button>
            </div>
          </div>
          <div class="modal-body">
            <p>Required fields are marked with an asterisk <span>*</span></p>
            <div class="form-group">
              <label for="project">Project <span>*</span></label>
              <select id="project" class="form-select" disabled>
                <option>project 1 (SCRUM)</option>
              </select>
            </div>
            <div class="form-group">
              <label for="issueType">Issue type <span>*</span></label>
              <select id="issueType" class="form-select">
                <option>Task</option>
                <option>Story</option>
                <option>Epic</option>
                <option>Bug</option>
              </select>
              <a href="#">Learn about issue types</a>
            </div>
            <div class="form-group">
              <label for="status">Status</label>
              <select id="status" class="form-select" disabled>
                <option>To Do</option>
              </select>
              <small class="text-muted">This is the initial status upon creation</small>
            </div>
            <div class="form-group">
              <label for="summary">Summary <span>*</span></label>
              <input type="text" id="summary" class="form-control" placeholder="">
            </div>
            <div class="form-group">
              <label for="description">Description</label>
              <div class="editor-toolbar">
                <i class="fa fa-font"></i>
                <i class="fa fa-bold"></i>
                <i class="fa fa-italic"></i>
                <i class="fa fa-list-ul"></i>
                <i class="fa fa-list-ol"></i>
                <i class="fa fa-link"></i>
                <i class="fa fa-image"></i>
                <i class="fa fa-smile"></i>
                <i class="fa fa-code"></i>
                <i class="fa fa-plus"></i>
                <i class="fa fa-minus"></i>
                <i class="fa fa-star"></i>
              </div>
              <textarea id="description" class="form-control" rows="5"></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="createAnother">
              <label class="form-check-label" for="createAnother">
                Create another
              </label>
            </div>
            <div>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
              <button type="button" class="btn btn-primary">Create</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/node_modules/chart.js/dist/chart.umd.js"></script>
  <script>
    const ctx = document.getElementById('statusChart').getContext('2d');
    const statusChart = new Chart(ctx, {
      type: 'doughnut',
      data: {
        labels: ['To Do', 'In Progress', 'Done'],
        datasets: [{
          data: [4, 2, 1],
          backgroundColor: ['#ff6f61', '#f5a623', '#007bff'],
          borderWidth: 0
        }]
      },
      options: {
        cutout: '70%',
        plugins: {
          legend: { display: false },
          tooltip: { enabled: true }
        }
      }
    });

    // Center text for donut chart
    const chartCenter = document.querySelector('.chart-center');
    chartCenter.style.position = 'absolute';
    chartCenter.style.top = '50%';
    chartCenter.style.left = '50%';
    chartCenter.style.transform = 'translate(-50%, -50%)';
    chartCenter.style.textAlign = 'center';
    chartCenter.style.fontSize = '24px';
    chartCenter.style.fontWeight = 'bold';
    chartCenter.style.color = '#333';
    chartCenter.querySelector('span').style.fontSize = '14px';
    chartCenter.querySelector('span').style.fontWeight = 'normal';
    chartCenter.querySelector('span').style.color = '#6c757d';
  </script>
</body>
</html>